<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ui tests</title>
</head>
<body>

  <button id="counter-increment">+</button>
  <div id="counter-display"></div>
  <input id="input">
  <div id="input-display"></div>

  <div id="router-view"></div>

  <script>
    // test global naming collisions
    // var DataState = {};
  </script>
  <script src="../dist.js"></script>
  <script>
    const state = new State({
      counter: 0,
      input: '',
    });

    state.useLocalStorage('state', false);

    // counter increment button
    new StateElement('#counter-increment', {
      handlers: {
        click: () => {
          state.data.counter.modify((c) => c + 1);
        },
      },
    });
    new StateElement('#counter-display', state.data.counter);
    new StateElement('#input', state.data.input);
    new StateElement('#input-display', state.data.input);

    // test overwriting datastate
    // state.data.counter = 'asd';

    const router = new Router(document.getElementById('router-view'));
    router.addRoute('/:param/something', () => {
      const div = document.createElement('div');
      div.textContent = 'sup';
      return div;
    });
    router.loadRoute('/param1/something?query1=value');
  </script>
</body>
</html>